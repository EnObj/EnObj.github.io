<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/p5@1.5.0/lib/p5.js"></script>
    <title>扫垃圾</title>
</head>

<body>
    <script>
        let bugs = [];
        function setup () {
            createCanvas(800, 600)
            // 生成随机一堆垃圾
            for (let i = 0; i < 50; i++) {
                bugs.push(new Jitter());
            }
        }

        function draw () {
            background(244, 248, 252);
            line(mouseX, 0, mouseX, height);
            for (let i = 0; i < bugs.length; i++) {
                bugs[i].move();
                bugs[i].display();
            }
        }

        // Jitter 类
        class Jitter {
            constructor() {
                this.x = random(width);
                this.y = random(height);
                this.diameter = random(10, 30);
                this.speed = 1;
            }

            move () {
                const x = this.x + random(-this.speed, this.speed);
                if(mouseX){
                    this.x = Math.min(this.x, mouseX)
                } else {
                    this.x = x
                }
                this.y += random(-this.speed, this.speed);
            }

            display () {
                ellipse(this.x, this.y, this.diameter, this.diameter);
            }
        }
    </script>
</body>

</html>